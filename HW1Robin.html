<!DOCTYPE html>
<html lang="en">
<head>
<body>
<h1>Executive Summary</h1>

<p>HW1 SP500 and Treasury Bill Rate</p>
For this homework assignment, we compute the average returns of SP500 (Including dividends) from 01/01/1973 to 01/01/2015 in different time horizon<br>
In addition, we want to compute the excess rate of return of SP500, namely, return of SP500 minus return of Treasury Bill.

<h1>Full Body Text</h1>
<ul>
    <li>I downloaded SP500 from Yahoo Finance in Daily Frequencies and used "Close" for all the computations, or we could download SP500 value-weighted return including dividends from wrds</li>
    <li>The Panda function df["Close"].resample('').ffill().pct_change() allows me to compute returns in frequencies I wish</li>
    <li>I downloaded Daily Series of Return Adjusted from wrds and used df["Close"].resample().ffill() to adjust frequencies</li>
The lesson we learn from observing the annualized excess returns is the longer you put your money in SP500, the larger the returns are.
  This is possibly because SP500 grows in a long-term whereas risk-free rate declines in a long-term. Therefore the differences between two are expanded in long time horizon.
</ul>
<h1>Tables and Figures</h1>
<h3>Arithmetic Average Rate of Return</h3>
<table border="1" style="border-collapse: collapse; width: 100%; height: 100px;">
  <tr>
      <th>Frequency\Indices</th>
    <th>SP500 Return</th>
    <th>Treasury Bill Rate</th>
    <th>Excess Return</th>
    <th>Annualized Excess Return</th>
  </tr>
  <tr>
      <td>Daily</td>
    <td>0.0329%</td>
      <td>0.0299%</td>
      <td>0.003%</td>
      <td>0.0816%</td>
  </tr>
  <tr>
      <td>Monthly</td>
    <td>0.6736%</td>
    <td>0.1044%</td>
    <td>0.5692%</td>
    <td>6.8296%</td>
  </tr>
    <tr>
      <td>Yearly</td>
    <td>9.2045%</td>
    <td>0.0006%</td>
    <td>9.2039%</td>
      <td>9.2039%</td>
  </tr>
    <tr>
      <td>5-Yearly</td>
    <td>50.8574%</td>
    <td>-0.1426%</td>
    <td>51%</td>
      <td>10.2057%</td>
  </tr>
</table>
<h3>Geometric Average Rate of Return</h3>
<table border="1" style="border-collapse: collapse; width: 100%; height: 100px;">
  <tr>
      <th>Frequency\Indices</th>
    <th>SP500 Return</th>
    <th>Treasury Bill Rate</th>
    <th>Excess Return</th>
    <th>Annualized Excess Return</th>
  </tr>
  <tr>
      <td>Daily</td>
    <td>0.0269%</td>
    <td>0.0269%</td>
    <td>0%</td>
    <td>0%</td>
  </tr>
  <tr>
      <td>Monthly</td>
    <td>0.5734%</td>
    <td>0.1045%</td>
    <td>0.4689%</td>
    <td>5.7747%</td>
  </tr>
    <tr>
      <td>Yearly</td>
    <td>7.7215%</td>
    <td>-0.0123%</td>
    <td>7.7338%</td>
      <td>7.7338%</td>
  </tr>
    <tr>
      <td>5-Yearly</td>
    <td>40.3319%</td>
    <td>-0.232%</td>
    <td>40.5639%</td>
      <td>7.0471%</td>
  </tr>
</table>
<h1>Python Codes</h1>
<code>import pandas as pd</code><br>
<code>import numpy as np</code><br>
<code>import matplotlib.pyplot as plt</code><br>
<code>df = pd.read_csv("GSPC.csv", parse_dates=["Date"], index_col="Date")</code><br>
<code>dailyr=df["Close"].ffill().pct_change()</code><br>
<code>dailyr=dailyr.dropna()</code><br>
<code># Def geometric average as gemean</code><br>
<code>def gemean(rate):</code><br>
<code>a = 1+np.array(rate)</code><br>
<code>return np.prod(a)**(1/len(a))-1</code><br>
<code>monthlyr = df["Close"].resample('M').ffill().pct_change()</code><br>
<code>monthlyr=monthlyr.dropna()</code><br>
<code>yearlyr = df["Close"].resample('Y').ffill().pct_change()</code><br/>
<code>yearlyr=yearlyr.dropna()</code><br>
<code>fyearlyr = df["Close"].resample('5Y').ffill().pct_change()</code><br>
<code>fyearlyr=fyearlyr.dropna()</code><br>
<code># Import the risk free excel sheet</code><br>
<code>rf = pd.read_excel("rf.xlsx", parse_dates=['Date'], index_col="Date")</code><br>
<code>rf = pd.DataFrame(rf)
  rf=rf.groupby('Date')['TDRETADJ'].mean()</code><br>
<code>df['rf rate'] = rf/100
dailyrf=df["rf rate"].dropna()
a=dailyr-dailyrf
  a=a.dropna()</code><br>

<code>monthlyrf = df["rf rate"].resample('M').ffill()
monthlyrf=monthlyrf.dropna()
b=monthlyr-monthlyrf
  b=b.dropna()</code><br>

<code>yearlyrf = df["rf rate"].resample('Y').ffill()
yearlyrf=yearlyrf.dropna()
c=yearlyr-yearlyrf
  c=c.dropna()</code><br>


<code>fyearlyrf = df["rf rate"].resample('5Y').ffill()
fyearlyrf=fyearlyrf.dropna()
d=fyearlyr-fyearlyrf
  d=d.dropna()</code><br>
<h1>Reference</h1>
<a href="https://wrds-www.wharton.upenn.edu">Wharton Research Data Services</a><br>
<a href="https://finance.yahoo.com">Yahoo Finance</a>
</body>
</html>
